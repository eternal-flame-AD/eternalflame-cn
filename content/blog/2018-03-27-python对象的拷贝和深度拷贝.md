---
title: Python对象的拷贝和深度拷贝
author: Eternal-flame-AD
layout: post
identifier: cef94a00333970bcaa84f04b91de4a2d
date: 2018-03-27T09:55:45+00:00
categories:
  - Python
  - 技术
tags:
  - Python

---
Python语言中，对象的传递默认是引用传递，如果需要创建一个对象的拷贝可以使用copy库：

{{< highlight python>}}
import copy
list1=['1']
list2=copy.copy(list1)
list2.append('2')
print(list1) #['1']
{{< / highlight >}}

不过,copy.copy(x)方法是浅层拷贝（即如果list1是一个包含list的list，那么它包含的list仍然会被以引用形式传递）:

{{< highlight python>}}
import copy
list1=[['1']]
list2=copy.copy(list1)
list2[0].append('2')
print(list1) #[['1','2']]
{{< / highlight >}}

而copy.deepcopy(x)方法即为深度拷贝，会将对象中包含的所有对象也进行拷贝：

{{< highlight python>}}
import copy
list1=[['1']]
list2=copy.deepcopy(list1)
list2[0].append('2')
print(list1) #[['1']]
{{< / highlight >}}